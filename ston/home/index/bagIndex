TDScriptLeafNode{#name:'bagIndex',#contents:'[ :topez :objIn :tokens :windowId | 
| nsc val indexSpec query |
nsc := Bag new.
val := \'5\' -> 5.
5 timesRepeat: [ nsc add: val ].
nsc
  add: \'1\' -> 1;
  add: \'2\' -> 2.
indexSpec := GsIndexSpec new
  equalityIndex: \'each.value\' lastElementClass: Integer;
  yourself.
[ 
indexSpec createIndexesOn: nsc.
query := (GsQuery fromString: \'each.value = 5\')
  on: nsc;
  yourself.
query queryResult ]
  ensure: [ indexSpec removeIndexesFrom: nsc ] ]',#creationTime:nil,#modificationTime:nil}